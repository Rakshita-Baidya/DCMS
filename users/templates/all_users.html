{% extends "index.html" %}
{% load static %}
{% block content %}
    {% load widget_tweaks %}
    <main class="mx-auto px-4 sm:px-2 lg:px-6 py-8">
        <div class="bg-white p-8 rounded-lg shadow-sm border-2 border-[#00B2B2]">
            <p class="text-4xl font-bold text-center mb-4">All Registered Users</p>
            <p class="text-right text-gray-600">
                <a href="{% url 'approve' %}"
                   class="bg-primaryLogo text-white py-2 px-4 rounded-md hover:bg-[#00A1A1] focus:outline-none focus:ring focus:ring-primaryLogo">
                    Approve Users
                </a>
            </p>
            <table class="min-w-full table-auto mt-4">
                <thead>
                    <tr class="border-b-2 border-primaryLogo px-4 py-2 text-center">
                        <th>User ID</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                        <tr class="border-b text-center">
                            <td class="px-4 py-2">{{ user.id }}</td>
                            <td class="px-4 py-2">{{ user.username }}</td>
                            <td class="px-4 py-2">{{ user.email }}</td>
                            <td class="px-4 py-2 capitalize">{{ user.role|default:"N/A" }}</td>
                            <td class="px-4 py-2">
                                {% if user.is_approved == "Approved" %}
                                    <span class="text-green-600 font-semibold">Approved</span>
                                {% elif user.is_approved == "Denied" %}
                                    <span class="text-red-600 font-semibold">Denied</span>
                                {% else %}
                                    <span class="text-yellow-600 font-semibold">Pending</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="4" class="text-center text-gray-500 py-4">No registered users found.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </main>
{% endblock content %}
